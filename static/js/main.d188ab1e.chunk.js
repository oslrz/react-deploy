(this.webpackJsonpannouncement=this.webpackJsonpannouncement||[]).push([[0],{13:function(t,e,a){},15:function(t){t.exports=JSON.parse("{}")},16:function(t,e,a){"use strict";a.r(e);var n=a(1),i=a.n(n),s=a(8),c=a.n(s),r=(a(13),a(3)),l=a(4),o=a(6),d=a(5),h=a(2),j=a(0),u=function(t){Object(o.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).handleInput=n.handleInput.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"handleInput",value:function(t){this.props.NewSearchString(t.target.value)}},{key:"render",value:function(){return Object(j.jsx)("nav",{children:Object(j.jsx)("div",{className:"nav-wrapper",children:Object(j.jsx)("form",{children:Object(j.jsxs)("div",{className:"input-field",children:[Object(j.jsx)("input",{id:"search",type:"search",onInput:this.handleInput,required:!0}),Object(j.jsx)("label",{className:"label-icon",for:"search",children:Object(j.jsx)("i",{className:"material-icons",children:"search"})}),Object(j.jsx)("i",{className:"material-icons",children:"close"})]})})})})}}]),a}(i.a.Component),b=function(t){Object(o.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).state={action:!1},n.changeAction=n.changeAction.bind(Object(h.a)(n)),n.CreateAnnouncement=n.CreateAnnouncement.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"changeAction",value:function(){this.setState({action:!this.state.action})}},{key:"CreateAnnouncement",value:function(){var t=document.getElementById("title"),e=document.getElementById("disc"),a=document.getElementById("text");if(t.value&&e.value&&a.value){var n=JSON.stringify({title:t.value,discription:e.value,text:a.value}),i=new XMLHttpRequest;i.open("POST","http://185.237.206.119:9000/createData",!0),i.setRequestHeader("Content-Type","application/json"),i.addEventListener("load",(function(){i.response?window.location.reload():alert("error")})),i.send(n)}else alert("\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u0432\u0441\u0456 \u043f\u043e\u043b\u044f")}},{key:"render",value:function(){return this.state.action?Object(j.jsxs)("div",{children:[Object(j.jsx)("a",{className:"btn-floating btn-large waves-effect waves-light red",onClick:this.changeAction,children:Object(j.jsx)("i",{className:"material-icons",children:"close"})}),Object(j.jsxs)("div",{className:"row",id:"create_",children:[Object(j.jsxs)("div",{className:"input-field col s6",children:[Object(j.jsx)("input",{id:"title",type:"text"}),Object(j.jsx)("label",{for:"title",children:"Title"})]}),Object(j.jsxs)("div",{className:"input-field col s6",children:[Object(j.jsx)("input",{id:"disc",type:"text"}),Object(j.jsx)("label",{for:"disc",children:"Discription"})]}),Object(j.jsxs)("div",{className:"input-field col s6",children:[Object(j.jsx)("input",{id:"text",type:"text"}),Object(j.jsx)("label",{for:"text",children:"Text"})]}),Object(j.jsxs)("button",{className:"btn waves-effect waves-light",style:{marginTop:"3%"},name:"action",onClick:this.CreateAnnouncement,children:["Submit",Object(j.jsx)("i",{class:"material-icons right",children:"send"})]})]})]}):Object(j.jsx)("div",{children:Object(j.jsx)("a",{className:"btn-floating btn-large waves-effect waves-light red",onClick:this.changeAction,children:Object(j.jsx)("i",{className:"material-icons",children:"add"})})})}}]),a}(i.a.Component),p=b,O=function(t){Object(o.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).ShowText=n.ShowText.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"ShowText",value:function(){this.props.ChangeStatus(this.props.data,this.props.redir)}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"col s12 m2",onClick:this.ShowText,children:[Object(j.jsx)("blockquote",{children:this.props.data.title}),Object(j.jsx)("p",{children:this.props.data.text})]})}}]),a}(i.a.Component),x=(a(15),function(t){Object(o.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).state={changes:!0},n.Edit=n.Edit.bind(Object(h.a)(n)),n.ConfirmChanges=n.ConfirmChanges.bind(Object(h.a)(n)),n.Delete=n.Delete.bind(Object(h.a)(n)),n.Back=n.Back.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"Back",value:function(){window.location.reload()}},{key:"Edit",value:function(){this.setState({changes:!this.state.changes})}},{key:"Delete",value:function(){var t=JSON.stringify({id:this.props.data.id}),e=new XMLHttpRequest;e.open("POST","http://185.237.206.119:9000/deleteData",!0),e.setRequestHeader("Content-Type","application/json"),e.addEventListener("load",(function(){e.response?window.location.reload():alert("error")})),e.send(t)}},{key:"ConfirmChanges",value:function(){var t=document.getElementById("title"),e=document.getElementById("discription"),a=document.getElementById("text"),n=JSON.stringify({id:this.props.data.id,new_title:t.value,new_discription:e.value,new_text:a.value}),i=new XMLHttpRequest;i.open("POST","http://185.237.206.119:9000/editData",!0),i.setRequestHeader("Content-Type","application/json"),i.addEventListener("load",(function(){i.response?window.location.reload():alert("error")})),i.send(n)}},{key:"render",value:function(){var t=this;return this.state.changes?Object(j.jsxs)("div",{id:"TextPage",children:[Object(j.jsxs)("div",{id:"bttnBlock",children:[Object(j.jsx)("button",{type:"button",className:"waves-effect waves-light btn-large",onClick:this.Back,children:Object(j.jsx)("span",{className:"material-icons",children:"arrow_back"})}),Object(j.jsx)("button",{type:"button",onClick:this.Edit,className:"waves-effect waves-light btn-large",children:Object(j.jsx)("span",{className:"material-icons",children:"edit"})}),Object(j.jsx)("button",{onClick:this.Delete,type:"button",className:"waves-effect waves-light btn-large",children:Object(j.jsx)("span",{className:"material-icons",children:"delete"})})]}),Object(j.jsxs)("div",{id:"main_text",children:[Object(j.jsx)("blockquote",{children:Object(j.jsx)("h1",{children:this.props.data.title})}),Object(j.jsx)("p",{children:this.props.data.discription}),this.props.data.text,Object(j.jsx)("p",{style:{textAlign:"end"},children:this.props.data.date})]}),Object(j.jsx)("div",{id:"similar",children:this.props.similar.map((function(e){return Object(j.jsx)(O,{redir:!1,ChangeStatus:t.props.ChangeStatus,data:e},e.id)}))})]}):Object(j.jsxs)("div",{id:"TextPage",children:[Object(j.jsxs)("div",{id:"bttnBlock",children:[Object(j.jsx)("button",{type:"button",className:"waves-effect waves-light btn-large",onClick:this.Back,children:Object(j.jsx)("span",{className:"material-icons",children:"arrow_back"})}),Object(j.jsx)("button",{type:"button",onClick:this.Edit,className:"waves-effect waves-light btn-large",children:Object(j.jsx)("span",{className:"material-icons",children:"edit"})}),Object(j.jsx)("button",{type:"button",className:"waves-effect waves-light btn-large",onClick:this.Delete,children:Object(j.jsx)("span",{className:"material-icons",children:"delete"})})]}),Object(j.jsxs)("div",{id:"main_text",children:[Object(j.jsx)("blockquote",{children:Object(j.jsxs)("div",{className:"row",children:["Title:",Object(j.jsx)("input",{type:"text",name:"title",id:"title",defaultValue:this.props.data.title,className:"validate"})]})}),Object(j.jsx)("p",{children:Object(j.jsx)("input",{id:"discription",type:"text",name:"discription",defaultValue:this.props.data.discription})}),Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsx)("textarea",{id:"text",cols:"30",rows:"15",defaultValue:this.props.data.text})}),Object(j.jsxs)("button",{style:{marginTop:"5px"},className:"btn waves-effect waves-light",type:"button",onClick:this.ConfirmChanges,children:["Submit",Object(j.jsx)("i",{className:"material-icons right",children:"send"})]})]}),Object(j.jsx)("div",{id:"similar",children:this.props.similar.map((function(e){return Object(j.jsx)("div",{className:"similar_card",children:Object(j.jsx)(O,{redir:!1,ChangeStatus:t.props.ChangeStatus,data:e},e.id)})}))})]})}}]),a}(i.a.Component)),v=x;function m(t,e){for(var a=e.id,n=[],i=0;i<t.length;i++)t[i].id!==a&&(f(t[i].title,e.discription)||f(e.title,t[i].discription)||f(e.title,t[i].title)||f(e.discription,t[i].discription))&&n.push(t[i]);return n}function f(t,e){for(var a=t.split(" "),n=e.split(" "),i=a.length,s=n.length,c=0;c<i;c+=1)for(var r=0;r<s;r+=1)if(a[c]===n[r])return!0;return!1}var g=function(t){Object(o.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).ChangeStatus=function(t,e){e?n.setState({status:!n.state.status,data:t,similar_data:m(n.state.old_data,t)}):n.setState({data:t,similar_data:m(n.state.old_data,t)})},n.state={status:!0,data:null,similar_data:null,old_data:[],new_data:[]},n.ChangeStatus=n.ChangeStatus.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=new XMLHttpRequest;e.open("GET","http://185.237.206.119:9000/getData",!0),e.responseType="json",e.setRequestHeader("Content-Type","application/json"),e.addEventListener("load",(function(){t.setState({old_data:e.response,new_data:e.response})})),e.send()}},{key:"componentWillReceiveProps",value:function(){if(this.props.search.length>1){console.log(this.props.search);var t=this.state.old_data,e=[],a=new RegExp(this.props.search,"g");console.log(a);for(var n=0;n<t.length;n++)a.test(t[n].title)&&e.push(t[n]);this.setState({new_data:e})}else this.setState({new_data:this.state.old_data})}},{key:"render",value:function(){var t=this;return this.state.status?Object(j.jsxs)("div",{children:[Object(j.jsx)(p,{}),this.state.new_data.map((function(e){return Object(j.jsx)(O,{ChangeStatus:t.ChangeStatus,redir:!0,data:e},e.id)}))]}):Object(j.jsx)(v,{similar:this.state.similar_data,ChangeStatus:this.ChangeStatus,data:this.state.data})}}]),a}(i.a.Component),w=g,y=function(t){Object(o.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).NewSearchString=function(t){n.setState({search_data:t},(function(){n.forceUpdate()}))},n.state={search_data:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(u,{NewSearchString:this.NewSearchString}),Object(j.jsx)(w,{search:this.state.search_data})]})}}]),a}(i.a.Component),C=y;c.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(C,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.d188ab1e.chunk.js.map